<?php

$movies = [
    [
        "title" => "L'île aux 30 cercueils",
        "poster" => "https://fr.web.img6.acsta.net/c_310_420/pictures/22/03/02/16/26/4894591.jpg",
        "screen" => "https://fr.web.img2.acsta.net/r_1920_1080/pictures/22/03/08/12/03/0088531.jpg",
        "release" => "21 mars 2022",
        "duration" => "52 min",
        "director" => ["Elsa Marpeau", "Florent Meyer"],
        "pitch" => "Christine vit une vie tranquille avec son mari, Raphaël jusqu’au jour où elle reçoit une mystérieuse vidéo sur son portable. On y voit des images de son accouchement à Sarek, l'île où elle a grandi. Christine découvre avec horreur que son enfant annoncé mort-né a été assassiné. Elle est désormais hantée par ces questions : qui a tué son fils, et pourquoi ?",
        "ba" => "https://www.allocine.fr/video/player_gen_cmedia=19595813&cserie=27384.html",
        "types" => ["Drame", "Policier"],
        "director" => ["Elsa Marpeau", "Florent Meyer"],
        "actors" => ["Virginie Ledoyen", "Charles Berling", "Stanley Weber"]
    ],
    [
        "title" => "Star Wars: Obi-Wan Kenobi",
        "poster" => "https://fr.web.img6.acsta.net/c_310_420/pictures/22/02/10/08/42/0948220.jpg",
        "screen" => "https://fr.web.img3.acsta.net/r_1920_1080/pictures/22/03/10/12/30/0009060.jpg",
        "release" => "25 mai 2022",
        "duration" => "60 min",
        "director" => ["Hossein Amini", "Joby Harold"],
        "pitch" => "L’action se déroulera dix ans après la fin tragique de STAR WARS : LA REVANCHE DES SITH. Obi-Wan y avait subi sa plus grande défaite et assisté à la déchéance de son meilleur ami, l’apprenti Jedi Anakin Skywalker, qui avait rejoint le Côté Obscur en devenant le seigneur Sith Dark Vador.",
        "ba" => "https://www.allocine.fr/video/player_gen_cmedia=19595942&cserie=25501.html",
        "types" => ["Aventure", "Science fiction", "Action"],
        "actors" => ["Ewan McGregor", "Hayden Christensen", "Joel Edgerton"]
    ],
    [
        "title" => "Moon Knight",
        "poster" => "https://fr.web.img4.acsta.net/c_310_420/pictures/22/02/14/10/10/1383073.jpg",
        "screen" => "https://fr.web.img6.acsta.net/r_1920_1080/pictures/22/02/18/12/34/1599865.jpg",
        "release" => "30 mars 2022",
        "duration" => "45 min",
        "director" => ["Jeremy Slater"],
        "pitch" => "Fils d'un rabbin, Marc Spector a grandi en ayant pour but de devenir boxeur poids lourd et militaire de l'armée américaine. Laissé pour mort après une mission en Égypte, il est conduit dans le temple de Khonsou, Dieu de la Lune, et accepte de devenir son avatar sur Terre : Moon Knight.",
        "ba" => "https://www.allocine.fr/video/player_gen_cmedia=19595375&cserie=25546.html",
        "types" => ["Aventure", "Drame", "Fantastique", "Action"],
        "actors" => ["Oscar Isaac", "May Calamawy", "Ethan Hawke"]
    ],
    [
        "title" => "Les Anneaux de Pouvoir",
        "poster" => "https://fr.web.img2.acsta.net/c_310_420/pictures/22/02/03/16/28/1554715.jpg",
        "screen" => "https://fr.web.img6.acsta.net/r_1920_1080/pictures/21/08/03/11/02/2419089.jpg",
        "release" => "2 septembre 2022",
        "duration" => "60 min",
        "director" => ["John D. Payne", "Patrick McKay"],
        "pitch" => "Commençant à une époque de paix relative, la série suit un ensemble de personnages, à la fois familiers et nouveaux, alors qu’ils affrontent la réémergence tant redoutée du mal sur la Terre du Milieu. Des profondeurs les plus sombres des Monts Brumeux, aux forêts majestueuses de la capitale des elfes de Lindon, au royaume insulaire à couper le souffle de Númenor, jusqu’aux confins de la carte, ces royaumes et personnages se tailleront des héritages qui perdureront longtemps après qu’ils soient partis.",
        "ba" => "https://www.allocine.fr/video/player_gen_cmedia=19595678&cserie=22940.html",
        "types" => ["Aventure", "Drame", "Fantastique"],
        "actors" => ["Morfydd Clark", "Markella Kavenagh", "Robert Aramayo"]
    ],
    [
        "title" => "Halo",
        "poster" => "https://fr.web.img2.acsta.net/c_310_420/pictures/22/03/11/15/32/3731587.jpg",
        "screen" => "https://fr.web.img3.acsta.net/r_654_368/newsv7/21/11/30/14/54/0442889.jpg",
        "release" => "24 mars 2022",
        "duration" => "60 min",
        "director" => ["Kyle Killen", "Steven Kane"],
        "pitch" => "Au 26ème siècle, alors que l’humanité est empêtrée dans une guerre intergalactique contre une menace extraterrestre connue sous le nom d’Alliance, le Dr. Halsey, une brillante scientifique, a créé les Spartans, des super-soldats génétiquement et technologiquement améliorés pour booster les capacités physiques et mentales. John-117, le commandant d'une des unités, mène ses troupes vers le combat...",
        "ba" => "https://www.allocine.fr/video/player_gen_cmedia=19595992&cserie=12209.html",
        "types" => ["Science fiction", "Action"],
        "actors" => ["Pablo Schreiber", "Natascha McElhone", "Jen Taylor"]
    ],
    [
        "title" => "Para//èles",
        "poster" => "https://fr.web.img5.acsta.net/c_310_420/pictures/22/03/14/16/56/3685719.jpg",
        "screen" => "https://fr.web.img2.acsta.net/c_640_360/newsv7/22/03/14/17/23/5393267.jpg",
        "release" => "23 mars 2022",
        "duration" => "40 min",
        "director" => ["Quoc Dang Tran"],
        "pitch" => "Les quatre amis, Bilal, Romane, Samuel et Victor, voient leurs vies bouleversées lorsqu’un mystérieux événement les sépare et les propulse dans des dimensions parallèles. Ils vont tout mettre en œuvre pour comprendre ce qui s’est passé et tenter de revenir en arrière, dans leur monde \"d'avant\".",
        "types" => ["Aventure", "Fantastique"],
        "ba" => "https://www.allocine.fr/video/player_gen_cmedia=19595536&cserie=28446.html",
        "actors" => ["Thomas Chomel", "Omar Mebrouk", "Jules Houplain"]
    ],
    [
        "title" => "Tokyo Vice",
        "poster" => "https://fr.web.img6.acsta.net/c_310_420/pictures/22/03/15/10/27/2374115.jpg",
        "screen" => "https://fr.web.img4.acsta.net/r_1920_1080/pictures/22/02/08/15/35/3827918.jpg",
        "release" => "7 avril 2022",
        "duration" => "52 min",
        "director" => ["J.T. Rogers"],
        "pitch" => "À Tokyo, le reporter américain Jake Adelstein, âgé de 24 ans, intègre le service police et justice du « Yomiuri Shimbun », le plus grand quotidien japonais. Alors qu’il collabore avec la police locale, il est contacté par la mafia. Il devient un interlocuteur des yakusas tout en continuant d’être un informateur de la police. Mais cette position ambivalente n’est pas sans danger.",
        "ba" => "https://www.allocine.fr/video/player_gen_cmedia=19595988&cserie=25203.html",
        "types" => ["Drame", "Policier"],
        "actors" => ["Ansel Elgort", "Ken Watanabe", "Rachel Keller"]
    ],
    [
        "title" => "Miss Marvel",
        "poster" => "https://fr.web.img5.acsta.net/c_310_420/pictures/22/03/15/15/37/0858076.jpg",
        "screen" => "https://fr.web.img3.acsta.net/r_1920_1080/pictures/22/03/16/10/41/2967348.jpg",
        "release" => "8 juin 2022",
        "duration" => "50 min",
        "director" => ["Bisha K. Ali"],
        "pitch" => "Kamala Khan alias Miss Marvel est une adolescente américaine de confession musulmane, qui vit à Jersey City. Grande amatrice de jeux vidéo et insatiable rédactrice de fan-fiction, elle adore les super-héros, qui enflamment son imagination (surtout Captain Marvel). Mais elle peine à trouver sa place à la maison comme au lycée, jusqu’à ce qu’elle se découvre des superpouvoirs, semblables à ceux de ses héros. Elle se dit alors, peut-être de manière un peu prématurée, que tout va s’arranger…",
        "ba" => "https://www.allocine.fr/video/player_gen_cmedia=19596002&cserie=25544.html",
        "types" => ["Drame", "Science fiction", "Action"],
        "actors" => ["Iman Vellani", "Aramis Knight", "Saagar Shaikh"]
    ],
]
;

foreach ($movies as $movie) {
?>
    <div class="col-3 master-card">
        <div class="flip-card">
            <div class="card-front card">
                <img src=" <?php echo $movie["screen"] ?>  " class="card-img-top " alt="...">
                <div class="director pt-2">
                    <?php
                    
                    $i = 0;

                       foreach ($movie['director'] as $actor) {
                           $i++;
                           echo '<span class="pt-2 pb-2';
                           if ($i != count($movie['director'])) {
                               echo " bullet";
                           }
                           echo '">';
                           echo $actor;
                           echo "</span>";
                       }
                    ?>
                </div>
                <div class="actor pt-2 pb-2">
                       <?php

                        $i = 0;

                        foreach ($movie['actors'] as $actor) {
                            $i++;
                            echo '<span class="pt-2 pb-2';
                            if ($i != count($movie['actors'])) {
                                echo " bullet";
                            }
                            echo '">';
                            echo $actor;
                            echo "</span>";
                        }
                        ?>
                </div>
                <div class="card-body">
                    <h5 class="card-title"><?php echo $movie["title"] ?></h5>
                    <p class="card-text"><?php echo (strlen($movie["pitch"]) > 200) ? substr($movie["pitch"], 0, 190) . '...' : $movie["pitch"]; ?></p>
                    <div class="ba text-end">
                        <a href="<?php echo $movie["ba"] ?>" target="_blank" class="btn btn-light card-link">BANDE ANNONCE</a>
                    </div>
                </div>
            </div>
            <div class="card-back">
                <div class="card-img"><img src="<?php echo $movie["poster"] ?>" alt="The Bathman"></div>
                <div class="release pt-2"><?php echo $movie["release"] ?>
                    <span class="duration"><?php echo $movie["duration"] ?></span>
                </div>
                <div class="types pt-2 pb-2">
                    <?php
                    $i = 0;

                    foreach ($movie['types'] as $actor) {
                        $i++;
                        echo '<span class="pt-2 pb-2';
                        if ($i != count($movie['types'])) {
                            echo " bullet";
                        }
                        echo '">';
                        echo $actor;
                        echo "</span>";
                    }
                    ?>
                </div>
            </div>
        </div>
    </div>
<?php
}
?>