<?php

$movies = [
    [
        "title" => "The Batman",
        "poster" => "https://fr.web.img3.acsta.net/c_310_420/pictures/22/02/16/17/42/3125788.jpg",
        "screen" => "https://fr.web.img2.acsta.net/r_1920_1080/pictures/21/10/18/11/16/2754594.jpg",
        "release" => "2 mars 2022",
        "duration" => "2h 57min",
        "director" => ["Matt Reeves"],
        "pitch" => "Lorsqu'un tueur s'en prend à l'élite de Gotham par une série de machinations sadiques, une piste d'indices cryptiques envoie Bruce Wayne alias Batman sur une enquête dans la pègre, où il rencontre des personnages tels que Selina Kyle, alias Catwoman, Oswald Cobblepot, alias le Pingouin, Carmine Falcone et Edward Nashton, alias l’Homme-Mystère.",
        "ba" => "https://www.allocine.fr/video/player_gen_cmedia=19595349&cfilm=211012.html",
        "types" => ["Action", "Policier", "Thriller"],
        "actors" => ["Robert Pattinson", "Zoë Kravitz", "Paul Dano"]
    ],
    [
        "title" => "Maison de Retraite",
        "poster" => "https://fr.web.img3.acsta.net/c_310_420/pictures/21/12/03/13/10/5145956.jpg",
        "screen" => "https://fr.web.img5.acsta.net/r_1920_1080/pictures/22/01/28/14/58/4169824.jpg",
        "release" => "16 février 2022",
        "duration" => "1h 37min",
        "director" => ["Thomas Gilou"],
        "pitch" => "Afin d’éviter la case prison, Milann, 30 ans, est contraint d’effectuer 300 heures de travaux d’intérêts généraux dans une maison de retraite. Au fil des semaines, il découvre que l’établissement profite de la vulnérabilité de ses pensionnaires pour les arnaquer.",
        "ba" => "https://www.allocine.fr/video/player_gen_cmedia=19595111&cfilm=285300.html",
        "types" => ["Comédie"],
        "actors" => ["Kev Adams", "Gérard Depardieu", "Daniel Prévost"]
    ],
    [
        "title" => "Notre-Dame brûle",
        "poster" => "https://fr.web.img6.acsta.net/c_310_420/pictures/22/02/11/12/58/0195580.jpg",
        "screen" => "https://fr.web.img2.acsta.net/r_1920_1080/pictures/22/02/09/17/06/0604502.jpg",
        "release" => "16 mars 2022",
        "duration" => "1h 50min",
        "director" => ["Jean-Jacques Annaud"],
        "pitch" => "Le long métrage de Jean-Jacques Annaud, reconstitue heure par heure l’invraisemblable réalité des évènements du 15 avril 2019 lorsque la cathédrale subissait le plus important sinistre de son histoire.",
        "ba" => "https://www.allocine.fr/video/player_gen_cmedia=19595548&cfilm=284864.html",
        "types" => ["Drame"],
        "actors" => ["Samuel Labarthe", "Jean-Paul Bordes", "Mikaël Chirinian"]
    ],
    [
        "title" => "Maigret",
        "poster" => "https://fr.web.img2.acsta.net/c_310_420/pictures/21/12/16/11/09/4861683.jpg",
        "screen" => "https://fr.web.img6.acsta.net/r_1920_1080/pictures/22/02/24/12/01/4127120.jpg",
        "release" => "23 février 2022",
        "duration" => "1h 28min",
        "director" => ["Patrice Leconte"],
        "pitch" => "Maigret enquête sur la mort d’une jeune fille. Rien ne permet de l’identifier, personne ne semble l’avoir connue, ni se souvenir d’elle. Il rencontre une délinquante, qui ressemble étrangement à la victime, et réveille en lui le souvenir d’une autre disparition, plus ancienne et plus intime…",
        "ba" => "https://www.allocine.fr/video/player_gen_cmedia=19595379&cfilm=276821.html",
        "types" => ["Policier"],
        "actors" => ["Gérard Depardieu", "Jade Labeste", "Mélanie Bernier"]
    ],
    [
        "title" => "Goliath",
        "poster" => "https://fr.web.img3.acsta.net/c_310_420/pictures/22/01/24/12/13/4677076.jpg",
        "screen" => "https://fr.web.img5.acsta.net/r_1920_1080/pictures/22/01/21/16/07/0544923.jpg",
        "release" => "9 mars 2022",
        "duration" => "2h 02min",
        "director" => ["Frédéric Tellier"],
        "pitch" => "France, professeure de sport le jour, ouvrière la nuit, milite activement contre l’usage des pesticides. Patrick, obscur et solitaire avocat parisien, est spécialiste en droit environnemental. Mathias, lobbyiste brillant et homme pressé, défend les intérêts d’un géant de l’agrochimie.",
        "ba" => "https://www.allocine.fr/video/player_gen_cmedia=19595479&cfilm=281976.html",
        "types" => ["Thriller"],
        "actors" => ["Gilles Lellouche" , "Pierre Niney" , "Emmanuelle Bercot"]
    ],
    [
        "title" => "Uncharted",
        "poster" => "https://fr.web.img4.acsta.net/c_310_420/pictures/22/01/18/10/13/5983633.jpg",
        "screen" => "https://fr.web.img5.acsta.net/r_1920_1080/pictures/22/02/02/09/26/5319138.jpg",
        "release" => "16 février 2022",
        "duration" => "1h 56min",
        "director" => ["Ruben Fleischer"],
        "pitch" => "Nathan Drake, voleur astucieux et intrépide, est recruté par le chasseur de trésors chevronné Victor « Sully » Sullivan pour retrouver la fortune de Ferdinand Magellan, disparue il y a 500 ans.",
        "types" => ["Action" , "Aventure"],
        "ba" => "https://www.allocine.fr/video/player_gen_cmedia=19590375&cfilm=186437.html",
        "actors" => ["Tom Holland" , "Mark Wahlberg" , "Sophia Ali"]
    ],
    [
        "title" => "Permis de construire",
        "poster" => "https://fr.web.img6.acsta.net/c_310_420/pictures/21/10/18/09/57/1868139.jpg",
        "screen" => "https://fr.web.img3.acsta.net/r_1920_1080/pictures/21/08/05/13/12/2456526.jpg",
        "release" => "9 mars 2022",
        "duration" => "1h 33min",
        "director" => ["Eric Fraticelli"],
        "pitch" => "Dentiste à Paris, Romain vient de perdre son père qu'il n'a pas vu depuis des années. A sa grande surprise, ce dernier lui a laissé un terrain en héritage, ainsi qu'une dernière volonté : y faire construire la maison où il aurait aimé finir ses jours. Seul problème: ce terrain se situe en Corse.",
        "ba" => "https://www.allocine.fr/video/player_gen_cmedia=19594635&cfilm=42303.html",
        "types" => ["Comédie"],
        "actors" => ["Didier Bourdon" , "Eric Fraticelli" , "Anne Consigny"]
    ],
    [
        "title" => "Hopper et le hamster des ténèbres",
        "poster" => "https://fr.web.img6.acsta.net/c_310_420/pictures/22/01/18/10/10/1260592.jpg",
        "screen" => "https://fr.web.img6.acsta.net/r_1920_1080/pictures/21/07/29/10/30/1903330.jpg",
        "release" => "16 février 2022",
        "duration" => "1h 31min",
        "director" => ["Ben Stassen" , "Benjamin Mousquet"],
        "pitch" => "Bienvenue au Royaume de Plumebarbe ! Le jeune Hopper Chickenson est le fils adoptif du Roi Arthur, un célèbre lapin aventurier. Mi poulet / mi lapin, notre jeune héros est lui-même obsédé par l'aventure.",
        "ba" => "https://www.allocine.fr/video/player_gen_cmedia=19594913&cfilm=290193.html",
        "types" => ["Aventure" , "Animation" , "Comédie"],
        "actors" => ["Thomas Solivérès" , "Chloé Jouannet" , "Nicolas Maury"]
    ],
]
;

foreach ($movies as $movie) {
?>
    <div class="col-3 master-card">
        <div class="flip-card">
            <div class="card-front card">
                <img src=" <?php echo $movie["screen"] ?>  " class="card-img-top " alt="<?php echo $movie["title"] ?>">
                <div class="director pt-2">
                    <?php
                    
                    $i = 0;

                       foreach ($movie['director'] as $actor) {
                           $i++;
                           echo '<span class="pt-2 pb-2';
                           if ($i != count($movie['director'])) {
                               echo " bullet";
                           }
                           echo '">';
                           echo $actor;
                           echo "</span>";
                       }
                    ?>
                </div>
                <div class="actor pt-2 pb-2">
                    <?php

                    $i = 0;

                        foreach ($movie['actors'] as $actor) {
                            $i++;
                            echo '<span class="pt-2 pb-2';
                            if ($i != count($movie['actors'])) {
                                echo " bullet";
                            }
                            echo '">';
                            echo $actor;
                            echo "</span>";
                        }
                    ?>
                    </div>
                <div class="card-body">
                    <h5 class="card-title"><?php echo $movie["title"] ?></h5>
                    <p class="card-text"><?php echo (strlen($movie["pitch"]) > 200) ? substr($movie["pitch"], 0, 190) . '...' : $movie["pitch"]; ?></p>
                    <div class="ba text-end">
                        <a href="<?php echo $movie["ba"] ?>" target="_blank" class="btn btn-light card-link">BANDE ANNONCE</a>
                    </div>
                </div>
            </div>
            <div class="card-back">
                <div class="card-img"><img src="<?php echo $movie["poster"] ?>" alt="The Bathman"></div>
                <div class="release pt-2"><?php echo $movie["release"] ?>
                    <span class="duration"><?php echo $movie["duration"] ?></span>
                </div>
                <div class="types pt-2 pb-2">
                    <?php
                    $i = 0;

                    foreach ($movie['types'] as $actor) {
                        $i++;
                        echo '<span class="pt-2 pb-2';
                        if ($i != count($movie['types'])) {
                            echo " bullet";
                        }
                        echo '">';
                        echo $actor;
                        echo "</span>";
                    }
                    ?>
                </div>
            </div>
        </div>
    </div>
<?php
}
?>